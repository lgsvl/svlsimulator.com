<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="LG Electronics America R&D Lab">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Local Automation (CI/CD) - SVL Simulator</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../css/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Local Automation (CI/CD)";
    var mkdocs_page_input_path = "running-simulations/local-automation.md";
    var mkdocs_page_url = "/docs/running-simulations/local-automation/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-130546445-1', 'svlsimulator.com');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <!-- edit link, open in new tab -->
        <a href="https://svlsimulator.com/docs/" class="icon icon-home" target="_blank_"> SVL Simulator</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Release Notes</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../release-notes/release-features/">Release features</a>
                </li>
                <li class="">
                    
    <a class="" href="../../release-notes/changelog/">Release notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../release-notes/release-contents/">Contents of this release</a>
                </li>
                <li class="">
                    
    <a class="" href="../../release-notes/limitations-license-notice/">Limitations and license notice</a>
                </li>
                <li class="">
                    
    <a class="" href="../../archive/">Previous releases</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Installation Guide</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../installation-guide/system-requirements/">System requirements</a>
                </li>
                <li class="">
                    
    <a class="" href="../../installation-guide/installing-simulator/">Installation procedure</a>
                </li>
                <li class="">
                    
    <a class="" href="../../installation-guide/build-instructions/">Building from source</a>
                </li>
                <li class="">
                    
    <a class="" href="../../installation-guide/debugging-scripts/">Debugging Unity scripts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../installation-guide/running-linux-gpu-applications-on-windows/">Running Linux GPU applications on Windows</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Getting Started</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../getting-started/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../getting-started/conventions/">Conventions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../getting-started/getting-started/">Run a simulation</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tutorials</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../tutorials/modular-testing/">Modular testing with the Apollo AD stack</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tutorials/lane-following/">Deep learning lane following model</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tutorials/create-ros2-ad-stack/">Creating a simple ROS2-based AD stack</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tutorials/ground-truth-obstacles/">Viewing and subscribing to ground truth obstacles</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tutorials/robotics-pub-sub/">Running a basic Robotics Simulation with ROS 2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tutorials/robotics-ros2/">Robot simulation with ROS 2 Navigation Stack</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tutorials/robotics-mapping/">Mapping a simulation environment in ROS 2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tutorials/local-automation-tutorial/">Local Automation (CI/CD) Tutorial</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tutorials/running-on-aws/">Running SVL Simulator on AWS</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">User Interface</span>
    <ul class="subnav">
                <li class="">
                    
    <span class="caption-text">Web User Interface</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../user-interface/web/store/">Store</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../user-interface/web/library/">Library</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../user-interface/web/clusters/">Clusters</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../user-interface/web/simulations/">Simulations</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../user-interface/web/test-results/">Test Results</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Simulation User Interface</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../user-interface/simulator-main-menu/">Simulator main menu</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../user-interface/simulation-menu/">Simulation menu</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../user-interface/sensor-visualizers/">Sensor visualizers</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../user-interface/bridge-connection-ui/">Bridge connection UI</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../user-interface/config-and-cmd-line-params/">Configuration file and command line parameters</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../user-interface/keyboard-shortcuts/">Keyboard shortcuts</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">System Under Test</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../system-under-test/sut-introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Messages</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system-under-test/simulator-messages/">Simulator messages</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system-under-test/lgsvl-msgs/">The lgsvl_msgs package</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system-under-test/sensor-message-publishing/">Sensor message publishing</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../../system-under-test/autoware-instructions/">ROS (Autoware.AI)</a>
                </li>
                <li class="">
                    
    <span class="caption-text">ROS 2</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system-under-test/autoware-auto-instructions/">Autoware.Auto</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system-under-test/ros2-bridge/">Setting up ROS 2 bridge</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Apollo</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system-under-test/apollo-master-instructions/">Latest Apollo</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system-under-test/apollo5-0-instructions/">Apollo 5.0</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Running Simulations</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../runtime-templates/">Runtime templates</a>
                </li>
                <li class="">
                    
    <a class="" href="../running-simulator/">Running Simulator</a>
                </li>
                <li class="">
                    
    <a class="" href="../offline-mode/">Offline mode</a>
                </li>
                <li class="">
                    
    <a class="" href="../developer-mode/">Developer mode</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Local Automation (CI/CD)</a>
    <ul class="subnav">
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Creating Scenarios</span>
    <ul class="subnav">
                <li class="">
                    
    <span class="caption-text">Visual scenario editor (VSE)</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../visual-scenario-editor/about-vse/">About VSE</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../visual-scenario-editor/using-vse/">Using VSE</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../visual-scenario-editor/vse-inspector/">VSE Inspector</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../visual-scenario-editor/vse-editors/">VSE Editors</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../visual-scenario-editor/vse-extensions/">VSE Extensions</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Python API</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../python-api/python-api/">Python API guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../python-api/api-quickstart-descriptions/">Python API quickstart guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../python-api/dreamview-api/">Dreamview API</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Simulation Content</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../simulation-content/sharing/">Sharing assets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../simulation-content/assets/">Building content</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Maps</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/add-new-map/">Creating a new map</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/map-annotation/">Map annotation</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/hd-map-mesh-generation/">Road network generation</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/add-destinations/">Adding destinations to a map</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/pointcloud-import/">Point cloud import</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/pointcloud-rendering/">Point cloud rendering</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/pointcloud-export/">Point cloud export</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/lane-line-detector/">Lane-line detector</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/lighting-for-interiors/">Lighting for indoor environments</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Vehicles</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/add-new-ego-vehicle/">Creating a new ego vehicle</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/ego-vehicle-dynamics/">Vehicle dynamics</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Sensors</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/sensors-list/">List of sensors</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/lane-line-sensor/">Lane-line sensor</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/differential-drive-control/">Differential Drive Control sensor</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">SDF</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../simulation-content/sdf-import/">Importing SDF world files</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Plugins</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../plugins/sensor-plugins/">Sensor plugins</a>
                </li>
                <li class="">
                    
    <a class="" href="../../plugins/bridge-plugins/">Bridge plugins</a>
                </li>
                <li class="">
                    
    <a class="" href="../../plugins/controllable-plugins/">Controllable plugins</a>
                </li>
                <li class="">
                    
    <a class="" href="../../plugins/npc-plugins/">NPC plugins</a>
                </li>
                <li class="">
                    
    <a class="" href="../../plugins/pedestrian-plugins/">Pedestrian plugins</a>
                </li>
                <li class="">
                    
    <a class="" href="../../plugins/developer-debug-mode/">Developer Debug mode</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Digital Twin</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../digital-twin/gomentum-dtl/">Digital Twin Lite example map</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Distributed Simulation</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../distributed-simulation/distributed-simulation-introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../distributed-simulation/running-distributed-simulation/">Running distributed simulation</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Third Party Integration</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../third-party-integration/openai-gym/">OpenAI Gym</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Support</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../support/troubleshooting/">Troubleshooting</a>
                </li>
                <li class="">
                    
    <a class="" href="../../support/unity-help/">Unity help</a>
                </li>
                <li class="">
                    
    <a class="" href="../../support/faq/">Frequently asked questions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../support/contributing/">Contributing</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">SVL Simulator</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Running Simulations &raquo;</li>
        
      
    
    <li>Local Automation (CI/CD)</li>
    <li class="wy-breadcrumbs-aside">
      
      <!-- edited to not display Github edit link -->
        <a style="display:none;" href="https://github.com/lgsvl/simulator/edit/master/Docs/running-simulations/local-automation.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="local-automation-cicd">Local Automation (CI/CD)<a class="headerlink" href="#local-automation-cicd" title="Permanent link">#</a></h1>
<h2> Table of Contents</h2>
<div class="toc">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#tutorial">Tutorial</a></li>
<li><a href="#commands">Local Automation Commands</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#generatingtoken">Generating an Access Token</a></li>
<li><a href="#wrapperscript">Wrapper Script</a></li>
<li><a href="#usagepattern">Usage Pattern</a></li>
<li><a href="#runningasimulation">Running a Simulation</a></li>
<li><a href="#runningmultiplesequentially">Running Multiple Simulations Sequentially</a></li>
<li><a href="#runningmultiplesimultaneously">Running Multiple Simulations Simultaneously</a></li>
<li><a href="#stoppingasimulation">Stopping a Simulation</a></li>
</ul>
</div>
<h2 id="overview">Overview <a class="wikilink" href="#top">top</a><a class="headerlink" href="#overview" title="Permanent link">#</a></h2>
<p>Local Automation allows you to start, check on, and, if necessary, stop simulation jobs from scripts without needing to manually interact with the <a href="https://wise.svlsimulator.com/">web user interface</a>. This empowers you to integrate SVL Simulator with existing automated testing or CI workflows (for example, Github/Gitlab integration, or Jenkins). Note that you will still need to use the web user interface to <a href="../../user-interface/web/simulations/">create and setup simulations</a> beforehand.</p>
<p>A POSIX shell script downloaded from the web user interface wraps the usage of a container pulled from there in which the actual client resides. Access is authenticated and authorized via an <a href="#generatingtoken">access token</a> that you must generate using the web user interface.</p>
<h2 id="tutorial">Tutorial <a class="wikilink" href="#top">top</a><a class="headerlink" href="#tutorial" title="Permanent link">#</a></h2>
<p>For step-by-step instructions on running simulations using the local automation tool, see our local automation <a href="../../tutorials/local-automation-tutorial/">tutorial</a>.</p>
<h2 id="commands">Local Automation Commands <a class="wikilink" href="#top">top</a><a class="headerlink" href="#commands" title="Permanent link">#</a></h2>
<p>The following commands are available:</p>
<table>
<thead>
<tr>
<th>Entity</th>
<th>Command</th>
<th>Arguments</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>cli</code></td>
<td><code>initialize</code></td>
<td></td>
<td>Initialize a CLI session</td>
</tr>
<tr>
<td></td>
<td><code>cleanup</code></td>
<td></td>
<td>Cleanup anything cached by the CLI session</td>
</tr>
<tr>
<td></td>
<td><code>help</code></td>
<td></td>
<td>Output details about the commands</td>
</tr>
<tr>
<td><code>simulation</code></td>
<td><code>start</code></td>
<td>SIMULATION-ID</td>
<td>Start a simulation</td>
</tr>
<tr>
<td></td>
<td><code>check</code></td>
<td>SIMULATION-ID</td>
<td>Check on a simulation</td>
</tr>
<tr>
<td></td>
<td><code>stop</code></td>
<td>SIMULATION-ID</td>
<td>Stop a simulation</td>
</tr>
<tr>
<td></td>
<td><code>help</code></td>
<td></td>
<td>Output details about the commands</td>
</tr>
</tbody>
</table>
<p><code>simulation check</code> returns one of these values upon success:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>progressing</code></td>
<td>The simulation has been started and is progressing.</td>
</tr>
<tr>
<td><code>success</code></td>
<td>The simulation has completed; this is the status of its last test result.</td>
</tr>
<tr>
<td><code>failure</code></td>
<td>The simulation has completed; this is the status of its last test result.</td>
</tr>
<tr>
<td><code>error</code></td>
<td>The simulation has completed; this is the status of its last test result.</td>
</tr>
<tr>
<td><code>virgin</code></td>
<td>There is no last test result because the simulation has never been run.</td>
</tr>
<tr>
<td><code>unknown</code></td>
<td>Unable to determine.</td>
</tr>
</tbody>
</table>
<p>The other commands return nothing upon success.</p>
<p>Upon error, the commands return a message suitable for printing, but <strong>not</strong> parsing because it's not guaranteed to be stable across releases. The errors detected include:</p>
<ul>
<li>Access to SIMULATION-ID not allowed</li>
<li>Cluster not online</li>
<li>Invalid access token</li>
<li>Malformed SIMULATION-ID</li>
<li>Non-existent SIMULATION-ID</li>
<li>Simulation already running</li>
</ul>
<p>The HTTP response status code is not exposed.</p>
<h2 id="prerequisites">Prerequisites <a class="wikilink" href="#top">top</a><a class="headerlink" href="#prerequisites" title="Permanent link">#</a></h2>
<p>The wrapper script requires the <code>docker.io</code> and <code>python3-minimal</code> packages. If there's no output from <code>command -v docker</code>, install it by
running:</p>
<pre><code class="language-sh">sudo apt update &amp;&amp; sudo apt install --no-install-recommends docker.io
</code></pre>
<p>If there's no output from <code>command -v python3</code>, install it by running:</p>
<pre><code class="language-sh">sudo apt update &amp;&amp; sudo apt install --no-install-recommends python3-minimal
</code></pre>
<h2 id="generatingtoken">Generating an Access Token <a class="wikilink" href="#top">top</a><a class="headerlink" href="#generatingtoken" title="Permanent link">#</a></h2>
<p>As mentioned in <strong>Overview</strong>, an access token is needed in order to use Local Automation. Follow the instructions below to generate one.</p>
<ol>
<li>
<p>Click on your name in the upper righthand corner and select <strong>My Profile</strong>
    <a href="../../images/local-automation/my-profile.png"><img alt="my-profile" src="../../images/local-automation/my-profile.png" title="My Profile" /></a></p>
</li>
<li>
<p>Expand the <strong>Advanced</strong> section and scroll down to <strong>Access Token for Local Automation</strong>:</p>
<p><a href="../../images/local-automation/my-profile-advanced.png"><img alt="my-profile-advanced" src="../../images/local-automation/my-profile-advanced.png" title="My Profile - Advanced section" /></a></p>
</li>
<li>
<p>Name or describe what the token will be used for in <strong>Note</strong> and press <strong>Create</strong>:</p>
<p><a href="../../images/local-automation/create-access-token.png"><img alt="create-access-token" src="../../images/local-automation/create-access-token.png" title="Generate access token" /></a></p>
</li>
<li>
<p>Make sure to retain a copy of your access token. Treat it as a password -- anyone who has it can access your simulations using Local Automation.</p>
<p><a href="../../images/local-automation/access-token-created.png"><img alt="access-token-created" src="../../images/local-automation/access-token-created.png" title="Generate access token" /></a></p>
</li>
</ol>
<h2 id="wrapperscript">Wrapper Script <a class="wikilink" href="#top">top</a><a class="headerlink" href="#wrapperscript" title="Permanent link">#</a></h2>
<p>Download the wrapper script <code>svlsim.sh</code>from the web user interface:</p>
<pre><code class="language-sh">wget -nv https://wise.svlsimulator.com/scripts/svlsim.sh
</code></pre>
<p>It is intended that <code>svlsim.sh</code> be checked into your source control as a peer of your CI/CD scripts. <code>cli initialize</code> will fail if <code>svlsim.sh</code> needs to be updated (by re-downloading).</p>
<h2 id="usagepattern">Usage Pattern <a class="wikilink" href="#top">top</a><a class="headerlink" href="#usagepattern" title="Permanent link">#</a></h2>
<p>This is the pattern for executing a command:</p>
<pre><code class="language-sh">export SVLSIM__ACCESS_TOKEN=&quot;&lt;ACCESS-TOKEN&gt;&quot;

# SVLSIM__LOG_FORMAT defaults to &quot;[%(levelname)6s] [%(name)s] %(message)s&quot;, the same as
# that used by the &quot;lgsvl&quot; module (aka &quot;Python API&quot;).
# export SVLSIM__LOG_FORMAT=&quot;&lt;PYTHON_LOG_FORMAT&gt;&quot;

# SVLSIM__LOG_LEVEL defaults to &quot;INFO&quot;.
# export SVLSIM__LOG_LEVEL=&quot;&lt;PYTHON_LOG_LEVEL&gt;&quot;

...

if result=$(sh svlsim.sh ENTITY COMMAND [ARG ...] 2&gt;&gt; LOGFILE); then
    : SUCCESS
    # ${result} is a single return value.
else
    : ERROR
    # ${result} is an error message suitable for printing (but not parsing).
fi
</code></pre>
<p>Information suitable for logging is written to stderr. The format of what's logged can be altered by setting the <code>SVLSIM__LOG_FORMAT</code> environment variable to a Python 3 logging format string <a href="https://docs.python.org/3.8/library/logging.html#logrecord-attributes">formed from these attributes</a>. The logging level can be altered by setting <code>SVLSIM__LOG_LEVEL</code> to one of <a href="https://docs.python.org/3.8/library/logging.html#levels">these levels</a>. The logging message that's written is <strong>not</strong> guaranteed to be stable across releases and should not be parsed.</p>
<p>There is no connection timeout: <code>svlsim.sh</code> will wait forever for the response from the web user interface.</p>
<h2 id="runningasimulation">Running a Simulation <a class="wikilink" href="#top">top</a><a class="headerlink" href="#runningasimulation" title="Permanent link">#</a></h2>
<p>A script to run a simulation should look something like what follows below. You must have created the simulation using the web user interface and it must be ready to run, ie, it must be valid and the cluster on which it will run must be online.</p>
<pre><code class="language-sh">export SVLSIM__ACCESS_TOKEN=&quot;&lt;ACCESS-TOKEN&gt;&quot;
# export SVLSIM__LOG_FORMAT=&quot;&lt;PYTHON_LOG_FORMAT&gt;&quot;
# export SVLSIM__LOG_LEVEL=&quot;&lt;PYTHON_LOG_LEVEL&gt;&quot;

logfile=&quot;&lt;PATH-TO-LOGFILE&gt;&quot;

simulation_id=&quot;&lt;UUID taken from the web user interface&gt;&quot;

# If desired, cleanup anything cached by the CLI session, eg, the container image.
# A successful &quot;cli cleanup&quot; outputs nothing. We recommend that you use Bash so that
# &quot;trap 0&quot; will catch exits caused by signals.
# trap 'result=$(sh svlsim.sh cli cleanup 2&gt;&gt; ${logfile}) || echo &quot;ERROR: ${result}&quot;' 0

# Initialize a CLI session.  A successful &quot;cli initialize&quot; outputs nothing.
if result=$(sh svlsim.sh cli initialize 2&gt; ${logfile}); then
    : SUCCESS
else
    # One error will be that svlsim.sh is out-of-date and needs to be re-downloaded.
    echo &quot;ABORT: ${result}&quot;
    exit 1
fi

# Start a simulation and return immediately. A successful &quot;simulation start&quot; outputs
# nothing. This command does not wait in order to allow a CI script to launch multiple
# (different) simulations simultaneously.
if result=$(sh svlsim.sh simulation start ${simulation_id} 2&gt;&gt; ${logfile}); then
    : SUCCESS
else
    echo &quot;ABORT: ${result}&quot;
    exit 1
fi

# Check on the simulation until it's finished. &quot;simulation check&quot; outputs one of:
# - progressing
# - success
# - failure
# - error
# - virgin
# - unknown
while true; do
    # Wait time is arbitrary.
    sleep 2
    if status=$(sh svlsim.sh simulation check ${simulation_id} 2&gt;&gt; ${logfile}); then
        if [ ${status} != &quot;progressing&quot; ]; then
            break
        fi
    else
        echo &quot;ABORT: ${status}&quot;
        exit 1
    fi
done
</code></pre>
<p>You must use the web user interface to view the test results or see the message associated with the <code>error</code> status.</p>
<h2 id="runningmultiplesequentially">Running Multiple Simulations Sequentially <a class="wikilink" href="#top">top</a><a class="headerlink" href="#runningmultiplesequentially" title="Permanent link">#</a></h2>
<p>To run multiple simulations sequentially, replace the <code>simulation start</code> and <code>simulation check</code> blocks from above with:</p>
<pre><code class="language-sh">simulations=&quot;&lt;SIMULATION-ID-1&gt; &lt;SIMULATION-ID-2&gt; ...&quot;

for simulation_id in ${simulations}; do
(
    if result=$(sh svlsim.sh simulation start ${simulation_id} 2&gt;&gt; ${logfile}); then
        : SUCCESS
    else
        echo &quot;ERROR: ${simulation_id}: ${result}&quot;
        exit 1
    fi

    while true; do
        # Wait time is arbitrary.
        sleep 2
        if status=$(sh svlsim.sh simulation check ${simulation_id} 2&gt;&gt; ${logfile}); then
            if [ ${status} != &quot;progressing&quot; ]; then
                break
            fi
        else
            echo &quot;ERROR: ${simulation_id}: ${status}&quot;
            exit 1
        fi
    done
)
done
</code></pre>
<h2 id="runningmultiplesimultaneously">Running Multiple Simulations Simultaneously <a class="wikilink" href="#top">top</a><a class="headerlink" href="#runningmultiplesimultaneously" title="Permanent link">#</a></h2>
<p>To run multiple simulations simultaneously, replace the <code>simulation start</code> and <code>simulation check</code> blocks from above with:</p>
<pre><code class="language-sh"># Note that this has been written for Bash.

declare -r simulations=&quot;&lt;SIMULATION-ID-1&gt; &lt;SIMULATION-ID-2&gt; ...&quot;

# Start all of the simulations.
declare -A running_simulations=()
for simulation_id in ${simulations}; do
    if result=$(sh svlsim.sh simulation start ${simulation_id} 2&gt;&gt; ${logfile}); then
        running_simulations[${simulation_id}]=&quot;started&quot;
    else
        echo &quot;ERROR: ${simulation_id}: ${result}&quot;
        # Or stop the others that were previously started and abort?
    fi
done

# Check those that are (still) running.
while ${#running_simulations[*]} -gt 0; do
    # Wait time is arbitrary.
    sleep 2
    for simulation_id in ${running_simulations}; do
        if status=$(sh svlsim.sh simulation check ${simulation_id} 2&gt;&gt; ${logfile}); then
            if [ ${status} = &quot;progressing&quot; ]; then
                running_simulations[${simulation_id}]=${status}
            else
                echo &quot;${simulation_id} done: ${status}&quot;
                unset running_simulations[${simulation_id}]
            fi
        else
            echo &quot;ERROR: ${simulation_id}: ${status}&quot;
            unset running_simulations[${simulation_id}]
        fi
    done
done
</code></pre>
<h2 id="stoppingasimulation">Stopping a Simulation <a class="wikilink" href="#top">top</a><a class="headerlink" href="#stoppingasimulation" title="Permanent link">#</a></h2>
<p>To stop a running simulation, run:</p>
<pre><code class="language-sh"># A successful &quot;simulation stop&quot; outputs nothing. The command returns immediately.
# You should use &quot;simulation check&quot; to discover when the simulation has completed.
if status=$(sh svlsim.sh simulation stop ${simulation_id} 2&gt;&gt; ${logfile}); then
    : SUCCESS
else
    echo &quot;ABORT: ${status}&quot;
    exit 1
fi
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../visual-scenario-editor/about-vse/" class="btn btn-neutral float-right" title="About VSE">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../developer-mode/" class="btn btn-neutral" title="Developer mode"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2019-2022 LG Electronics Inc.</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/lgsvl/simulator/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../developer-mode/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../visual-scenario-editor/about-vse/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../javascripts/clipboard.js" defer></script>
      <script src="../../javascripts/copy-to-clipboard.js" defer></script>
      <script src="../../javascripts/config.js" defer></script>
      <script src="https://polyfill.io/v3/polyfill.min.js?features=es6" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
